const _0xfeff93=_0x4b77;(function(_0x2ee92b,_0x2f8d55){const _0x1ccf16=_0x4b77,_0x265804=_0x2ee92b();while(!![]){try{const _0x3b2f36=parseInt(_0x1ccf16(0xbc))/0x1*(-parseInt(_0x1ccf16(0xb9))/0x2)+parseInt(_0x1ccf16(0xbb))/0x3+parseInt(_0x1ccf16(0xb4))/0x4+-parseInt(_0x1ccf16(0xac))/0x5+parseInt(_0x1ccf16(0xbe))/0x6*(-parseInt(_0x1ccf16(0xa5))/0x7)+-parseInt(_0x1ccf16(0xba))/0x8+parseInt(_0x1ccf16(0xc2))/0x9;if(_0x3b2f36===_0x2f8d55)break;else _0x265804['push'](_0x265804['shift']());}catch(_0x5c8f9e){_0x265804['push'](_0x265804['shift']());}}}(_0x3629,0x83e0b));function _0x3629(){const _0xdee237=['reply','_UHAO={\x22uid\x22:\x22160941\x22,\x22school\x22:\x22\x22,\x22time\x22:1681704243,\x22ts\x22:\x222\x22,\x22name\x22:\x22chat_q2Ac\x22,\x22head\x22:\x22/res/head/2ciyuan/24.jpg\x22,\x22term\x22:\x22201801\x22,\x22sign\x22:\x22714653d141dac0e7709f31003b8df858\x22};\x20_UIP=0e98d94e599ef74c29fb40cb35971810','1885584czidsO','application.json,\x20text/plain,\x20*/*','https://chat.aidutu.cn/api/cg/chatgpt/user/info?v=1.5','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','random','59506XdHOYE','719032PsnmBW','2768433kaRjXL','19bPbStp','POST','6vUXChE','data','أنت\x20ChatGPT،\x20نموذج\x20لغة\x20كبير\x20تم\x20تدريبه\x20من\x20قبل\x20OpenAI.\x20اتبع\x20تعليمات\x20المستخدم\x20بعناية.\x20استجب\x20باستخدام\x20markdown.','https://chat.aidutu.cn/api/chat-process','7387065nxJaEL','fastgpt','parse','5114809KfqEfO','حدث\x20خطأ','الرجاء\x20إدخال\x20نص','charAt','token','stringify','floor','1444740cMaGZt','json','quoted','length','text','*/*'];_0x3629=function(){return _0xdee237;};return _0x3629();}import _0x523e0c from'node-fetch';let handler=async(_0x4d018d,{conn:_0x1f5a08,args:_0x15318b,usedPrefix:_0x816661,command:_0x3756ec})=>{const _0x2d86a2=_0x4b77;let _0x154ee6;if(_0x15318b['length']>=0x1)_0x154ee6=_0x15318b['slice'](0x0)['join']('\x20');else{if(_0x4d018d[_0x2d86a2(0xae)]&&_0x4d018d[_0x2d86a2(0xae)]['text'])_0x154ee6=_0x4d018d['quoted']['text'];else throw _0x2d86a2(0xa7);}await _0x4d018d[_0x2d86a2(0xb2)](wait);try{let _0x1bcc74=await chatWithGPT(_0x154ee6);await _0x4d018d[_0x2d86a2(0xb2)](_0x1bcc74);}catch(_0x116d45){await _0x4d018d[_0x2d86a2(0xb2)](_0x2d86a2(0xa6));}};function _0x4b77(_0x13eb7e,_0x1b3180){const _0x362953=_0x3629();return _0x4b77=function(_0x4b77d5,_0x51825e){_0x4b77d5=_0x4b77d5-0xa3;let _0x3f46e8=_0x362953[_0x4b77d5];return _0x3f46e8;},_0x4b77(_0x13eb7e,_0x1b3180);}handler['help']=[_0xfeff93(0xa3)],handler['tags']=['ai'],handler['command']=/^(fastgpt)$/i;export default handler;async function chatWithGPT(_0x4225e6){const _0xdcefef=_0xfeff93;function _0x2a5d6e(_0x214e9d){const _0x24c0a0=_0x4b77;var _0x40a76d='',_0x11c5a0=_0x24c0a0(0xb7),_0x447fcc=_0x11c5a0['length'];for(var _0x2cd85f=0x0;_0x2cd85f<_0x214e9d;_0x2cd85f++){_0x40a76d+=_0x11c5a0[_0x24c0a0(0xa8)](Math[_0x24c0a0(0xab)](Math[_0x24c0a0(0xb8)]()*_0x447fcc));}return _0x40a76d;}let _0x414018=_0x2a5d6e(0x8),_0x1c14e3={};const _0x31300a=await _0x523e0c(_0xdcefef(0xb6),{'method':_0xdcefef(0xbd),'headers':{'accept':_0xdcefef(0xb1),'referrer':'https://chat.aidutu.cn/','x-iam':_0x414018,'Cookie':_0xdcefef(0xb3),'content-type':'application/json'},'body':JSON[_0xdcefef(0xaa)]({'q':_0x4225e6,'iam':_0x414018})}),_0x238953=await _0x31300a[_0xdcefef(0xad)](),_0xbb987c=_0x238953[_0xdcefef(0xbf)][_0xdcefef(0xa9)],_0x3159ec=await _0x523e0c(_0xdcefef(0xc1),{'method':_0xdcefef(0xbd),'headers':{'Content-Type':'application/json','Referer':'https://chat.aidutu.cn/','Cookie':_0xdcefef(0xb3),'accept':_0xdcefef(0xb5),'x-token':_0xbb987c},'body':JSON['stringify']({'prompt':_0x4225e6,'temperature':0.8,'top_p':0x1,'options':_0x1c14e3,'systemMessage':_0xdcefef(0xc0)})}),_0x98f7b2=await _0x3159ec[_0xdcefef(0xb0)](),_0x243716=JSON[_0xdcefef(0xa4)]('['+_0x98f7b2['split']('\x0a')+']'),_0x30e975=_0x243716[_0x243716[_0xdcefef(0xaf)]-0x1];return _0x30e975['text'];}